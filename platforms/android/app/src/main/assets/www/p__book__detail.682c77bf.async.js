(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{CEXA:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),c=a.n(n),r=a("HaE+"),o=a("q1tI"),s=a.n(o),i=a("Nlzp"),l=a("/MKj"),p=a("rY4l"),m=a("55Ip"),u=(a("yj8g"),"wtKW");class g extends o["Component"]{constructor(e){var t;super(e),t=this,this.getDateByFilter=function(){var e=Object(r["a"])(c.a.mark((function e(a){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.refs.cvs.scrollTop=0,t.setState({pageNum:a,content:t.filter(t._data[a-1])});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.Pagination=e=>()=>{var t=this.state,a=t.pageNum,n=t.totalpage;if((1!=a||"prev"!=e)&&(a!=n||"next"!=e)){if("prev"==e)return this.getDateByFilter(--a);if("next"==e)return this.getDateByFilter(++a);var c=parseInt(this.refs.jump.value);"jump"==e&&c&&c>0&&c<=n&&c!==a&&this.getDateByFilter(c)}},this.state={dataSource:{},currentTag:{},pageNum:1,totalpage:1},this._data=null}UNSAFE_componentWillMount(){var e=this;return Object(r["a"])(c.a.mark((function t(){var a,n,r,o,s;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props.match.params,n=a.typeId,r=a.pid,t.next=3,Object(i["i"])({typeId:n,pid:r});case 3:o=t.sent,o&&(s=e.props.fictionType.find(e=>e.id===n),e._data=o.data.pageData,e.setState({dataSource:o.data.pageData[0],content:e.filter(o.data.pageData[0]),totalpage:o.data.total,currentTag:s}));case 5:case"end":return t.stop()}}),t)})))()}filter(e){var t=e.content.split(/([.\n\r]+)/i);return t[t.length-1].indexOf("\u5206\u9875")>-1&&t[t.length-3].indexOf("\u9875\uff1a")>-1&&(t.splice(t.length-1,t.length),t.splice(t.length-3,t.length)),t.join("")}render(){var e=this.state,t=e.dataSource,a=e.currentTag,n=e.content,c=this.props.match.params.typeId;return s.a.createElement(s.a.Fragment,null,s.a.createElement(p["a"],{title:"\u7cbe\u5f69\u5c0f\u8bf4",hidLift:!0,key:"".concat(u,"11")}),s.a.createElement("div",{className:"book_detail",key:"".concat(u,"21")},s.a.createElement("p",{className:"route",key:"".concat(u,"31")},s.a.createElement("span",{key:"".concat(u,"41")},"\u6240\u5728\u4f4d\u7f6e\uff1a"),s.a.createElement(m["Link"],{to:"/book",className:"font_orange",key:"".concat(u,"51")},"\u5c0f\u8bf4"),"/",s.a.createElement(m["Link"],{to:"/bookList/"+c,className:"font_orange",key:"".concat(u,"52")},a.typeName),"/",s.a.createElement("span",{to:"/book",key:"".concat(u,"42")},t.title)),s.a.createElement("p",{className:"book_tit",key:"".concat(u,"32")},t.title),s.a.createElement("p",{className:"other",key:"".concat(u,"33")},"by",s.a.createElement("span",{className:"font_orange Author",key:"".concat(u,"43")},"XIAO KUAI BO"))),s.a.createElement("div",{className:"cvs book_content",ref:"cvs",key:"".concat(u,"22")},s.a.createElement("p",{key:"".concat(u,"34")},n),s.a.createElement("div",{className:"Pagination",key:"".concat(u,"23")},s.a.createElement("div",{className:"btn prev",onClick:this.Pagination("prev"),key:"".concat(u,"24")},"\u4e0a\u4e00\u9875"),s.a.createElement("div",{className:"btn next",onClick:this.Pagination("next"),key:"".concat(u,"25")},"\u4e0b\u4e00\u9875"),s.a.createElement("div",{className:"btn jump",key:"".concat(u,"26")},s.a.createElement("input",{ref:"jump",type:"text",placeholder:"\u8f93\u5165\u9875\u6570",key:"".concat(u,"61")}),s.a.createElement("div",{className:"submit",onClick:this.Pagination("jump"),key:"".concat(u,"27")},"\u8df3\u8f6c")),s.a.createElement("p",{className:"location",key:"".concat(u,"35")},"\u5f53\u524d\u6240\u5728\uff1a\u7b2c",s.a.createElement("span",{className:"font_orange",key:"".concat(u,"44")},this.state.pageNum),"\u9875/",this.state.totalpage,"\u9875"))))}}function d(e){var t=e.config.moduleCfg&&e.config.moduleCfg.fictionType;return{fictionType:t||[]}}t["default"]=Object(l["b"])(d)(g)}}]);