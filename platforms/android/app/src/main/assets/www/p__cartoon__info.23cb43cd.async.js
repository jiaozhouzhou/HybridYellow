(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"5pHN":function(e,t,o){"use strict";o.r(t);o("D2jH");var n=o("2ROE"),r=o("o0o1"),a=o.n(r),i=o("HaE+"),l=o("q1tI"),c=o.n(l),s=o("HMs9"),u=o.n(s),d=o("Nlzp"),f=o("/MKj"),p=o("rY4l"),h=o("CCBr"),v=o("6ua7"),m=o("U7if"),y=(o("JW1o"),"4dBN");class g extends l["Component"]{constructor(e){super(e),this.Error=()=>{this.setState({error:!0})},this.state={error:!1}}render(){var e=this.props,t=e.src,o=e.className;return this.state.error?c.a.createElement("div",{className:"ImgError",key:"".concat(y,"11")}):c.a.createElement("img",{src:t,onError:this.Error,className:o,key:"".concat(y,"21")})}}class b extends l["Component"]{constructor(e){var t;super(e),t=this,this.getDateByFilter=function(){var e=Object(i["a"])(a.a.mark((function e(o,n){var r,i,l,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])({chapterId:t.id,pageNum:o,pageSize:18});case 2:r=e.sent,r&&(-97==r.code?(i=t.props.loggedIn?{text:"\u53bb\u5145\u503c",onPress:()=>{t.props.history.push("/recharge"),t.props.dispatch(m["default"].ClosePopup())}}:{text:"\u53bb\u767b\u5f55",onPress:()=>{t.props.history.push("/login"),t.props.dispatch(m["default"].ClosePopup())}},t.props.dispatch(m["default"].OpenPopup({className:"limitBox",body:c.a.createElement(h["a"],{data:r.data,btn:i,close:()=>t.props.dispatch(m["default"].ClosePopup()),key:"".concat(y,"31")}),nofoot:!0}))):(l=r.data,s=l.pageData,u=l.total,t._data=t._data.concat(s),t.setState({dataSource:t._data,totalpage:Math.ceil(u/18),pageNum:o+1})));case 4:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),this.onEndReached=e=>{var t=this.state,o=t.pageNum,n=t.totalpage;o<=n?(console.log(333,"\u7ee7\u7eed\u8bf7\u6c42\u6570\u636e",o,n),this.getDateByFilter(o)):(console.log(333,"\u6ca1\u6709\u6570\u636e\u4e86",o,n),this.setState({nomore:!0}))},this.row=(e,t,o)=>{var r=e[o];return c.a.createElement(u.a,{key:r.id,height:500,once:!0,overflow:!0,throttle:200,placeholder:c.a.createElement("div",{className:"placeholder",key:"".concat(y,"12")},c.a.createElement(n["a"],{type:"loading",color:"#000",key:"".concat(y,"51")})),_nk:"".concat(y,"41")},c.a.createElement(g,{src:r.img,className:"CartoonImg",key:"".concat(y,"61")}))},this.state={dataSource:[],nomore:!1,pageNum:1,totalpage:1},this.id=this.props.match.params.id,this._data=[]}UNSAFE_componentWillMount(){var e=this;return Object(i["a"])(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDateByFilter(1);case 1:case"end":return t.stop()}}),t)})))()}render(){var e=this.state,t=e.dataSource,o=e.nomore;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p["a"],{title:"\u7cbe\u5f69\u6f2b\u753b",radius:!1,key:"".concat(y,"71")}),c.a.createElement(v["a"],{className:"cartoonInfo",dataSource:t,renderRow:this.row,onEndReached:this.onEndReached,nomore:o,key:"".concat(y,"81")}))}}function w(e){return{loggedIn:e.user.loggedIn,chooseCartoon:e.config.chooseCartoon}}t["default"]=Object(f["b"])(w)(b)},CCBr:function(e,t,o){"use strict";var n=o("q1tI"),r=o.n(n),a="fmIM",i=e=>{var t=e.data,o=e.btn,n=e.close;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"limit_head",key:"".concat(a,"11")}),r.a.createElement("div",{className:"content",key:"".concat(a,"12")},r.a.createElement("p",{key:"".concat(a,"21")},t),r.a.createElement("div",{className:"dialog-button-ok",onClick:o.onPress,key:"".concat(a,"13")},o.text)),r.a.createElement("div",{className:"dialog-close",onClick:n,key:"".concat(a,"14")}))};t["a"]=i},HMs9:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceVisible=t.forceCheck=t.lazyload=void 0;var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("q1tI"),a=y(r),i=o("i8i4"),l=y(i),c=o("17x9"),s=y(c),u=o("Seim"),d=o("tvXG"),f=y(d),p=o("PTkm"),h=y(p),v=o("uUxy"),m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={top:0,right:0,bottom:0,left:0,width:0,height:0},O="data-lazyload-listened",_=[],k=[],C=!1;try{var N=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,N)}catch(R){}var P=!!C&&{capture:!1,passive:!0},j=function(e,t){var o=l.default.findDOMNode(e),n=void 0,r=void 0,a=void 0,i=void 0;try{var c=t.getBoundingClientRect();n=c.top,r=c.left,a=c.height,i=c.width}catch(R){n=E.top,r=E.left,a=E.height,i=E.width}var s=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,d=Math.max(n,0),f=Math.max(r,0),p=Math.min(s,n+a)-d,h=Math.min(u,r+i)-f,v=void 0,m=void 0,y=void 0,g=void 0;try{var b=o.getBoundingClientRect();v=b.top,m=b.left,y=b.height,g=b.width}catch(R){v=E.top,m=E.left,y=E.height,g=E.width}var w=v-d,O=m-f,_=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return w-_[0]<=p&&w+y+_[1]>=0&&O-_[0]<=h&&O+g+_[1]>=0},M=function(e){var t=l.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var o=void 0,n=void 0;try{var r=t.getBoundingClientRect();o=r.top,n=r.height}catch(R){o=E.top,n=E.height}var a=window.innerHeight||document.documentElement.clientHeight,i=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return o-i[0]<=a&&o+n+i[1]>=0},I=function(e){var t=l.default.findDOMNode(e);if(t instanceof HTMLElement){var o=(0,f.default)(t),n=e.props.overflow&&o!==t.ownerDocument&&o!==document&&o!==document.documentElement,r=n?j(e,o):M(e);r?e.visible||(e.props.once&&k.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},T=function(){k.forEach((function(e){var t=_.indexOf(e);-1!==t&&_.splice(t,1)})),k=[]},x=function(){for(var e=0;e<_.length;++e){var t=_[e];I(t)}T()},D=function(){for(var e=0;e<_.length;++e){var t=_[e];t.visible=!0,t.forceUpdate()}T()},S=void 0,A=null,z=function(e){return"string"===typeof e},L=function(e){function t(e){g(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.visible=!1,o}return w(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&z(t)&&(e=e.document.querySelector(t));var o=void 0!==this.props.debounce&&"throttle"===S||"debounce"===S&&void 0===this.props.debounce;if(o&&((0,u.off)(e,"scroll",A,P),(0,u.off)(window,"resize",A,P),A=null),A||(void 0!==this.props.debounce?(A=(0,h.default)(x,"number"===typeof this.props.debounce?this.props.debounce:300),S="debounce"):void 0!==this.props.throttle?(A=(0,m.default)(x,"number"===typeof this.props.throttle?this.props.throttle:300),S="throttle"):A=x),this.props.overflow){var n=(0,f.default)(l.default.findDOMNode(this));if(n&&"function"===typeof n.getAttribute){var r=+n.getAttribute(O)+1;1===r&&n.addEventListener("scroll",A,P),n.setAttribute(O,r)}}else if(0===_.length||o){var a=this.props,i=a.scroll,c=a.resize;i&&(0,u.on)(e,"scroll",A,P),c&&(0,u.on)(window,"resize",A,P)}_.push(this),I(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,f.default)(l.default.findDOMNode(this));if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(O)-1;0===t?(e.removeEventListener("scroll",A,P),e.removeAttribute(O)):e.setAttribute(O,t)}}var o=_.indexOf(this);-1!==o&&_.splice(o,1),0===_.length&&"undefined"!==typeof window&&((0,u.off)(window,"resize",A,P),(0,u.off)(window,"scroll",A,P))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:a.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(r.Component);L.propTypes={once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool},L.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var H=function(e){return e.displayName||e.name||"Component"},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(o){function r(){g(this,r);var e=b(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.displayName="LazyLoad"+H(t),e}return w(r,o),n(r,[{key:"render",value:function(){return a.default.createElement(L,e,a.default.createElement(t,this.props))}}]),r}(r.Component)}};t.lazyload=U,t.default=L,t.forceCheck=x,t.forceVisible=D},PTkm:function(e,t,o){"use strict";function n(e,t,o){var n=void 0,r=void 0,a=void 0,i=void 0,l=void 0,c=function c(){var s=+new Date-i;s<t&&s>=0?n=setTimeout(c,t-s):(n=null,o||(l=e.apply(a,r),n||(a=null,r=null)))};return function(){a=this,r=arguments,i=+new Date;var s=o&&!n;return n||(n=setTimeout(c,t)),s&&(l=e.apply(a,r),a=null,r=null),l}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},Seim:function(e,t,o){"use strict";function n(e,t,o,n){n=n||!1,e.addEventListener?e.addEventListener(t,o,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){o.call(e,t||window.event)}))}function r(e,t,o,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,o,n):e.detachEvent&&e.detachEvent("on"+t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=n,t.off=r},U7if:function(e,t,o){"use strict";o.r(t),o.d(t,"INITIAL_STATE",(function(){return r})),o.d(t,"reducer",(function(){return d}));var n=o("zyFE"),r={popup:null,video:null},a=Object(n["createActions"])({OpenPopup:["payload"],ClosePopup:["locationChanged"],SetVideo:["payload"]}),i=a.Types,l=a.Creators,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{popup:t.payload})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;arguments.length>1&&arguments[1];return Object.assign({},e,{popup:null})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{video:t.payload})},d=Object(n["createReducer"])(r,{[i.CLOSE_POPUP]:s,[i.OPEN_POPUP]:c,[i.SET_VIDEO]:u});t["default"]=l},tvXG:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;var t="absolute"===e.style.position,o=/(scroll|auto)/,n=e;while(n){if(!n.parentNode)return e.ownerDocument||document.documentElement;var r=window.getComputedStyle(n),a=r.position,i=r.overflow,l=r["overflow-x"],c=r["overflow-y"];if("static"===a&&t)n=n.parentNode;else{if(o.test(i)&&o.test(l)&&o.test(c))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},uUxy:function(e,t,o){"use strict";function n(e,t,o){var n,r;return t||(t=250),function(){var a=o||this,i=+new Date,l=arguments;n&&i<n+t?(clearTimeout(r),r=setTimeout((function(){n=i,e.apply(a,l)}),t)):(n=i,e.apply(a,l))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}}]);