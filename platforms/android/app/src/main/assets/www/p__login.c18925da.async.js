(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"+cRp":function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return k}));a("HVTF");var n=a("OT5E"),r=a("vDqi"),o=a.n(r),i=a("9kvl"),s=a("ShuE"),c=a("gjeX"),u=a.n(c),p=a("p58V"),d=a("vwip"),l=a("NFKh"),f=!1;function h(e,t,a){var n="",r=t,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(r=Math.round(Math.random()*(a-t))+t);for(var i=0;i<r;i++)n+=o[Math.round(Math.random()*(o.length-1))];return n}var g=window.baseUrl,v=o.a.create({baseURL:g,timeout:6e4});v.interceptors.request.use((function(t){t.loading&&(n["a"].loading("\u52a0\u8f7d\u4e2d..."),f=!0),Object(s["c"])(t),Object(s["a"])(t),t.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var a=e.store.getState().user.token;a&&(t.headers["userId"]=a.userId,a.accessToken&&(t.headers["token"]=a.accessToken));var r=t.data||{},o="fdsfewEQRWE@#$!1FDSAF3424FF",i=Object.keys(r).map((function(e){return e+"="+r[e]})),c=(i=i.concat(["qid="+h(!1,16),"terminal=h5"]).sort()).join("&"),p="sign="+u()(c+o);return t.data=c+"&"+p,t}),(function(e){return e}));var m=l.enc.Utf8.parse("jH5%!i%eDAEW@#@$"),y=l.enc.Utf8.parse("jfdkwqew!#S#$%78");function b(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];var o=d["a"].get(e);return!o||200!==o.code||Array.isArray(o.data)&&0===o.data.length?t(...n).then(t=>(d["a"].set(e,t,n[2]),t)).catch((function(e){return e})):o}v.interceptors.response.use((function(t){var a;if(Object(s["c"])(t),window.encry){var r=l.AES.decrypt(t.data,m,{iv:y,padding:l.pad.Pkcs7}).toString(l.enc.Utf8);a=JSON.parse(r)}else a=t.data;var o=e.store,c=o.dispatch,u=o.getState;if(200==a.code||-97==a.code)return f&&n["a"].hide(),f=!1,a;if(-1==a.code)n["a"].info(a.data);else if(-98==a.code)n["a"].info("\u767b\u5f55\u4fe1\u606f\u5931\u6548"),c(p["default"].LoggedOut()),i["a"].push("/login");else if(-99==a.code){c(p["default"].ClearAccessToken());var d=u().user.token;d&&v.post("api/user/applyToken",{refershToken:d.refershToken}).then(e=>{e&&(d.accessToken=e.data.accessToken,d.refershToken=e.data.refershToken,c(p["default"].UpdateToken(d)),location.reload())})}f=!1}),(function(e){if(n["a"].hide(),e.response)switch(e.response.status){case 404:n["a"].info("\u8d44\u6e90\u627e\u4e0d\u5230");break;case 500:n["a"].info("\u670d\u52a1\u5668\u7e41\u5fd9...\u8bf7\u7a0d\u540e\u518d\u8bd5");break;case 504:n["a"].info("\u8fde\u63a5\u8d85\u65f6");break}f=!1})),t["a"]=v;var k=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0],r=u.a.hex(n+"[POST]"+JSON.stringify(t));return b(r,v.post,...t)}}).call(this,a("yLpj"))},"/P0+":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("q1tI"),r=a.n(n),o="XLJO";class i extends n["Component"]{constructor(e){super(e),this.Change=e=>{var t=e.target.value,a=this.props,n=a.reg,r=a.required,o=a.min,i=a.max;if(null===t)this.setState({text:t,verifyStatus:1}),this.props.bindValue&&this.props.bindValue(t,1);else if(r&&""===t||n&&!n.test(t)||t<o||t>i){var s=r&&""===t?"*\u5fc5\u586b\u9879\u4e0d\u80fd\u4e3a\u7a7a":this.props.errorMag;if(n&&!r)return this.setState({text:t,border:"",verifyStatus:1,errorMag:s}),void(this.props.bindValue&&this.props.bindValue(t,1));this.setState({text:t,border:"error",verifyStatus:3,errorMag:s}),this.props.bindValue&&this.props.bindValue(t,3)}else r||n||t>=o||t<=i?(this.setState({text:t,border:"success",verifyStatus:2,errorMag:""}),this.props.bindValue&&this.props.bindValue(t,2)):(this.setState({text:t}),this.props.bindValue&&this.props.bindValue(t))},this.onFocus=()=>{1===this.state.verifyStatus&&this.setState({border:"fource"})},this.onBlur=()=>{this.state.verifyStatus},this.state={text:this.props.value,border:this.props.style&&this.props.style.borderColor?this.props.style.borderColor:"default",verifyStatus:1,errorMag:""}}componentDidMount(){}render(){return r.a.createElement("div",{className:"inputBox",key:"".concat(o,"11")},r.a.createElement("input",{type:this.props.password?"password":"text",value:this.props.value,defaultValue:this.props.defaultValue,className:"input ".concat(this.props.className," ").concat(this.state.border),placeholder:this.props.placeholder,onChange:this.Change,onFocus:this.onFocus,onBlur:this.onBlur,key:"".concat(o,"21")}),this.props.required||this.props.reg?r.a.createElement("p",{className:"errorMsg ".concat(this.props.ErrorClass),key:"".concat(o,"31")},this.state.errorMag):null,this.props.rightCon?r.a.createElement("div",{className:"RightCon",key:"".concat(o,"12")},this.props.rightCon):null)}}},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},Nlzp:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"y",(function(){return o})),a.d(t,"C",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"k",(function(){return c})),a.d(t,"D",(function(){return u})),a.d(t,"N",(function(){return p})),a.d(t,"E",(function(){return d})),a.d(t,"M",(function(){return l})),a.d(t,"z",(function(){return f})),a.d(t,"H",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"p",(function(){return v})),a.d(t,"q",(function(){return m})),a.d(t,"h",(function(){return y})),a.d(t,"v",(function(){return b})),a.d(t,"x",(function(){return k})),a.d(t,"O",(function(){return E})),a.d(t,"w",(function(){return w})),a.d(t,"r",(function(){return S})),a.d(t,"j",(function(){return O})),a.d(t,"K",(function(){return C})),a.d(t,"L",(function(){return I})),a.d(t,"o",(function(){return N})),a.d(t,"n",(function(){return V})),a.d(t,"t",(function(){return j})),a.d(t,"d",(function(){return T})),a.d(t,"B",(function(){return x})),a.d(t,"s",(function(){return A})),a.d(t,"u",(function(){return D})),a.d(t,"I",(function(){return L})),a.d(t,"J",(function(){return M})),a.d(t,"i",(function(){return R})),a.d(t,"b",(function(){return U})),a.d(t,"l",(function(){return F})),a.d(t,"a",(function(){return P})),a.d(t,"F",(function(){return _})),a.d(t,"m",(function(){return q})),a.d(t,"e",(function(){return J})),a.d(t,"G",(function(){return z})),a.d(t,"A",(function(){return H}));var n=a("+cRp"),r=e=>n["a"].post("api/user/getVerifyCode",e),o=e=>n["a"].post("api/user/login",e,{loading:!0}),i=e=>n["a"].post("api/user/register",e,{loading:!0}),s=e=>n["a"].post("api/user/SendCode",e),c=e=>n["a"].post("api/user/forgetPass",e,{loading:!0}),u=e=>n["a"].post("api/user/resetPass",e,{loading:!0}),p=e=>n["a"].post("api/user/getRights",e),d=e=>n["a"].post("api/user/sendFeedback",e,{loading:!0}),l=e=>n["a"].post("api/user/getUserInfo",e),f=e=>n["a"].post("api/site/notice",e),h=e=>n["a"].post("api/site/moduleCfg",e),g=e=>Object(n["b"])("api/video/Home",e,6e4),v=e=>n["a"].post("api/video/getList",e),m=e=>Object(n["b"])("api/video/getList",e,6e4),y=e=>n["a"].post("api/video/VideoRecommon",e),b=e=>n["a"].post("api/video/getVideoInfo",e),k=e=>n["a"].post("api/video/getVideoRelation",e),E=e=>n["a"].post("api/video/watchingVideo",e),w=e=>n["a"].post("api/video/getVideoRank",e),S=e=>n["a"].post("api/video/getMoiveHis",e),O=e=>n["a"].post("api/video/discoveryPage",e),C=e=>n["a"].post("api/video/thematicList",e),I=e=>n["a"].post("api/video/thematicVideo",e),N=e=>n["a"].post("api/video/getGirlList",e),V=e=>n["a"].post("api/video/getGirlInfo",e),j=e=>n["a"].post("api/video/getSearchRank",e),T=e=>n["a"].post("api/recharge/PayConfig",e),x=e=>n["a"].post("api/recharge/pay",e,{loading:!0}),A=e=>n["a"].post("api/user/getOrder",e,{loading:!0}),D=e=>n["a"].post("api/user/getSpread",e),L=e=>n["a"].post("api/user/spreadInfo",e),M=e=>Object(n["b"])("api/site/spreadRules",e,864e5),R=e=>n["a"].post("api/fiction/getList",e),U=e=>n["a"].post("api/fiction/CartoonList",e),F=e=>n["a"].post("api/fiction/getChapter",e),P=e=>n["a"].post("api/fiction/CartoonInfo",e),_=e=>n["a"].post("api/fiction/setPraise",e),q=e=>n["a"].post("api/user/getFeedback",e),J=e=>n["a"].post("api/user/Reply",e),z=e=>n["a"].post("api/user/setReaded",e),H=e=>n["a"].post("api/video/pushVideoData",e)},ShuE:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a("ODXe"),r=a("Qyje"),o=a.n(r),i=a("vDqi"),s=a.n(i),c=new Map,u=e=>{var t=[e.method,e.url,o.a.stringify(e.params),o.a.stringify(e.data)].join("&");e.cancelToken=e.cancelToken||new s.a.CancelToken(e=>{c.has(t)||c.set(t,e)})},p=e=>{var t=[e.method,e.url,o.a.stringify(e.params),o.a.stringify(e.data)].join("&");if(c.has(t)){var a=c.get(t);a(t),c.delete(t)}},d=()=>{var e=!0,t=!1,a=void 0;try{for(var r,o=c[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,s=Object(n["a"])(i,2),u=s[0],p=s[1];p(u)}}catch(d){t=!0,a=d}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}c.clear()}},gMHI:function(e,t,a){"use strict";a.r(t);a("XGli");var n=a("NHyu"),r=(a("tW3Q"),a("a9LI")),o=(a("D2jH"),a("2ROE")),i=a("o0o1"),s=a.n(i),c=a("HaE+"),u=a("q1tI"),p=a.n(u),d=a("9kvl"),l=a("55Ip"),f=a("G8a/"),h=a.n(f),g=a("Nlzp"),v=a("/MKj"),m=a("p58V"),y=a("/P0+"),b="wBJ4";class k extends u["Component"]{constructor(e){var t;super(e),t=this,this.getVerifyCode=function(){var e=Object(c["a"])(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="string"==typeof a?a:t.state.phone,e.next=3,Object(g["g"])({phone:n,codeType:2});case 3:r=e.sent,r&&t.setState({verifyImg:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.bindValue=e=>(t,a)=>{var n={},r=this.state.verifyData;n[e]=t,r[e]=a,n["verifyData"]=r,this.setState(n),"phone"==e&&2==a&&this.getVerifyCode(t)},this.submitform=Object(c["a"])(s.a.mark((function e(){var a,n,r,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,n=a.phone,r=a.passWd,o=a.imgCode,e.next=3,Object(g["y"])({phone:n,passWd:r,imgCode:o});case 3:i=e.sent,i?(t.state.remember?t.props.dispatch(m["default"].LoggedIn(i.data,n)):t.props.dispatch(m["default"].LoggedIn(i.data,null)),d["a"].push("/user")):t.getVerifyCode(n);case 5:case"end":return e.stop()}}),e)}))),this.changeRemember=e=>{this.setState({remember:e.target.checked})},this.state={phone:this.props.phone||"",passWd:"",imgCode:"",verifyImg:"",verifyData:{},remember:!0}}UNSAFE_componentWillMount(){/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][2-9])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.state.phone)&&this.getVerifyCode(this.state.phone)}render(){var e=this.state,t=e.phone,a=e.passWd,i=e.imgCode,s=e.verifyImg,c=e.verifyData,u=e.remember;return p.a.createElement("form",{className:h.a.loginAndRegister,key:"".concat(b,"11")},p.a.createElement("div",{className:h.a.itemli,key:"".concat(b,"21")},p.a.createElement("p",{className:h.a.left,key:"".concat(b,"31")},p.a.createElement(o["a"],{type:"ellipsis",size:"md",color:"#ffb000",key:"".concat(b,"41")}),"\u624b\u673a\u53f7"),p.a.createElement(y["a"],{value:t,bindValue:this.bindValue("phone"),placeholder:"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",required:!0,reg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][2-9])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,errorMag:"\u586b\u5199\u7684\u624b\u673a\u53f7\u7801\u4e0d\u6b63\u786e",className:h.a.input,ErrorClass:h.a.error,key:"".concat(b,"51")})),p.a.createElement("div",{className:h.a.itemli,key:"".concat(b,"22")},p.a.createElement("p",{className:h.a.left,key:"".concat(b,"32")},p.a.createElement(o["a"],{type:"ellipsis",size:"md",color:"#ffb000",key:"".concat(b,"42")}),"\u5bc6\u7801"),p.a.createElement(y["a"],{value:a,bindValue:this.bindValue("passWd"),placeholder:"6-32\u4f4d\u6570\u5b57\u5b57\u6bcd\u7ec4\u5408\u7684\u5bc6\u7801",errorMag:"\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",reg:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,32}$/,password:!0,required:!0,className:h.a.input,ErrorClass:h.a.error,key:"".concat(b,"52")})),p.a.createElement("div",{className:h.a.itemli,key:"".concat(b,"23")},p.a.createElement("p",{className:h.a.left,key:"".concat(b,"33")},p.a.createElement(o["a"],{type:"ellipsis",size:"md",color:"#ffb000",key:"".concat(b,"43")}),"\u9a8c\u8bc1\u7801"),p.a.createElement(y["a"],{value:i,bindValue:this.bindValue("imgCode"),required:!0,reg:/\d{4}$/,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",className:h.a.input,ErrorClass:h.a.error,key:"".concat(b,"53")}),s?p.a.createElement("img",{src:s,onClick:this.getVerifyCode,title:"\u70b9\u51fb\u5237\u65b0",key:"".concat(b,"61")}):null),p.a.createElement("div",{className:h.a.text_btn,key:"".concat(b,"24")},p.a.createElement("div",{className:h.a.remember,key:"".concat(b,"25")},p.a.createElement(r["a"],{checked:u,onChange:this.changeRemember,key:"".concat(b,"71")}),p.a.createElement("span",{key:"".concat(b,"81")},"\u8bb0\u4f4f\u8d26\u53f7")),p.a.createElement(l["Link"],{to:"/forgetPwd",className:h.a.forgetPwd,key:"".concat(b,"91")},"\u5fd8\u8bb0\u5bc6\u7801\uff1f")),p.a.createElement(n["a"],{onClick:this.submitform,disabled:!((2==c.phone||this.props.phone)&&2==c.passWd&&2==c.imgCode),className:"btn_submit",key:"".concat(b,"a1")},"\u767b\u5f55"))}}function E(e){return{phone:e.user.phone}}t["default"]=Object(v["b"])(E)(k)},p58V:function(e,t,a){"use strict";a.r(t),a.d(t,"INITIAL_STATE",(function(){return u})),a.d(t,"userInfo",(function(){return f})),a.d(t,"registerYB",(function(){return h})),a.d(t,"reducer",(function(){return k}));var n=a("VTBJ"),r=a("o0o1"),o=a.n(r),i=a("HaE+"),s=a("zyFE"),c=a("Nlzp"),u={loginInProgress:void 0,loggedIn:!1,userInfoDone:!1,token:null,userInfo:null},p=Object(s["createActions"])({LoggedIn:["payload","phone"],LoggedOut:[],userInfoDone:[],UpdateToken:["payload"],UpdateUserInfo:["payload"],ClearAccessToken:["payload"]}),d=p.Types,l=p.Creators;function f(e){return function(){var e=Object(i["a"])(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["M"])();case 2:n=e.sent,n&&t(l.UpdateUserInfo(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}function h(){return function(){var e=Object(i["a"])(o.a.mark((function e(t,a){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}t["default"]=l;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return console.log(111,"\u767b\u5f55\u6210\u529f",t.payload,t.phone),Object.assign({},e,Object(n["a"])({loginInProgress:!1,loggedIn:!0,phone:t.phone},t.payload))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{token:t.payload})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=(arguments.length>1&&arguments[1],JSON.parse(JSON.stringify(e)));return t.token&&(t.token.accessToken=null),t},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{userInfo:t.payload})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;arguments.length>1&&arguments[1];return Object.assign({},e,{loggedIn:!1,userInfo:null,token:null})},k=Object(s["createReducer"])(u,{[d.LOGGED_IN]:g,[d.LOGGED_OUT]:b,[d.UPDATE_TOKEN]:v,[d.UPDATE_USER_INFO]:y,[d.CLEAR_ACCESS_TOKEN]:m})},vwip:function(e,t,a){"use strict";t["a"]={age:6e5,setAge:function(e){return this.age=e,this},set:function(e,t,a){localStorage.removeItem(e);var n=(new Date).getTime(),r=a||this.age,o={};return o._value=t,o._time=n,o._age=n+r,localStorage.setItem(e,JSON.stringify(o)),this},isExpire:function(e){var t=!0,a=localStorage.getItem(e),n=(new Date).getTime();return a&&(a=JSON.parse(a),t=n>a._age),t},get:function(e){var t=this.isExpire(e),a=null;return t?(localStorage.removeItem(e),a):(a=localStorage.getItem(e),a=JSON.parse(a),a._value)}}}}]);